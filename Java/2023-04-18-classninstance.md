<h1>클래스 필드 생성자</h1>
객체, 클래스 등 내가 헷갈렸던 것들에 대해 다룰 예정

<h3>Java 객체란</h3>
객체는(instance) 물리적으로 존재하거나 추상적으로 생각할 수 있는 것 중에서 자신의 속성을 가지고 식별가능한 것이다.
객체의 구성은 속성과 동작으로 되어있다. 
자바는 이 속성과 동작을 각각 필드(field)와 메소드(method)라고 부른다.

인스턴스들은 각각 독립적으로 존재하고 다른 인스턴스와 서로 상호작용하면서 동작한다.
인스턴스들 사이의 상호작용하는 수단은 메소드이다. 
이때 객체가 다른 객체의 기능을 이용하는 것이 바로 메소드의 호출이다.
<br><br>
용어가 여러개라 헷갈리긴하는데 하나 집고 넘어갈 것은 객체와 인스턴스가 같은 표현이라는 것이다. 클래스를 정의하고 이를 기반으로 만들어진 인스턴스를 가리켜 객체라고 하는 것이다. 인스턴스 생성과 객체 생성은 같은 것이다.
<br><br>
객체는 갑자기 생기는 것이 아니라 설계도를 바탕으로 만들어진다.
자바에서 설계도가 바로 클래스(class)이다.
작성된 여러 종류의 코드를 관찰해보면 종류에 상관없이 모든 프로그램은 데이터와 기능으로 이루어져 있다는 사실을 알 수 있다.<br>
1. 데이터: 프로그램상에서 유지하고 관리해야할 데이터
2. 기능: 데이터를 처리하고 조작<br>
이 중에서 데이터는 변수의 선언을 통해 유지 및 관리가 되고 변수에 저장된 데이터는 메소드의 호출을 통해 처리가 된다.

<br> 보통 클래스를 몰드로 많이 표현한다. 클래스를 붕어빵 틀이라 하자.
붕어빵 틀은 먹을 수 있는 대상은 아니지만 틀을 이용해 붕어빵을 찍어낼 수 있다.
마찬가지로 클래스가 정의되었다고 해서 그 안에 위치한 변수나 메소드를 사용할 수 없고
클래스라는 틀을 이용해서 인스터스라는 것을 만들어내야 이 두 개를 사용할 수 있는 것이다.

<br>
클래스에는 인스턴스를 생성하기 위한 필드와 메소드가 정의되어있다.
다르게 말하면 클래스란 인스턴수 변수와 인스턴스 메소드의 묶음인 것이다.
여기서 말하는 필드는 클래스 내부에 선언되어있는 변수를 의미한다.
필드는 클래스의 멤버 변수로 클래스의 모든 메소드에서 공유될 수 있다. 
(인스턴스 변수 = 멤버 변수 = 필드)
필드는 클래스 내부에서 직접 접근이 가능하기 때문에, 클래스 외부에서 필드를 접근하기 위해서 Getter, Setter 등의 메소드를 사용할 수 있다.
또 private, protected, public 등의 접근제어자를 이용하여 접근 범위를 설정할 수 있다.


<h3>클래스의 선언</h3>
사용하고자하는 객체를 구상했다면 그 갳게의 대표이름을 하나 정하고 그것을 클래스 이름으로 정한다.
클래스 이름을 정할 때 규칙이 있는데 그것은 다음과 같다.<br>
1. 첫 글자에는 숫자가 올 수 없다.
2. '$', '_'외의 특수 문자는 사용할 수 없다.
3. 자바 키워드는 사용할 수 없다.
4. 첫 글자는 대문자로 작성한다.(관례임)<br>

하나의 소스파일에 여러 클래스를 선언할 수 있는데
```java
public class Hello { }
class Hello { }
```
public class가 있을 경우 소스파일의 이름은 반드시 public class의 이름과 일치해야하한다.

<br>

```java
class Hello1 { }
class Hello2 { }
```

그리고 만약 public class가 없다면 파일이름에 상관없이 여러개의 클래스를 선언할 수 있다.
소스파일의 이름이 Hello1.java가 될 수 도 있고, Hello2.java가 될 수 도 있는 것이다.

하나의 소스파일(.java 파일)에 여러 개의 클래스를 선언하는 이유는 하나의 소스파일에서 관련된 클래스를 함께 유지하고 다른 패키지에서는 필요한 클래스만 가져다 사용할 수 있도록 하기 위해서이다.

<h3>클래스 구성 멤버</h3>
클래스에는 인스턴가 가져야 할 구성멤버가 선언된다.
구성 멤버에는 필드, 생성자, 메소드가 있다.
구성 멤버들은 생략되거나 여러 개가 작성될 수 있다.

```java
class student {
  //필드: 객체의 데이터가 저장되는 곳
  int studentID;
  
  //생성자: 객체 생성시 초기화 역할 담당
  public Student() { }
  
  //메소드: 객체의 동작에 해당하는 실행 블록
  void study() { }
 }
 ```
 
<h3> 인스턴스 생성과 클래스 변수</h3>
클래스로부터 인스턴스를 생성하려면 new 연산자를 사용하면된다.
new 연산자 뒤에는 생성자가 오는데 생성자는 클래스명 형태를 가지고 있다.
생성된 객체는 힙 메모리 영역에 생성된다.

<br>
인스턴스 변수는 클래스 내에서 선언되는 변수로, 객체를 생성할 때마다 새로운 공간이 할당되는 변수이다. 따라서 인스턴스 변수는 각 인스턴스마다 별도의 값을 가진다. 
하지만 클래스 변수는 인스턴스의 생성과는 상관없이 존재하는 변수로 해당 클래스로부터 생성된 모든 인스턴스가 공유하는 변수이다.

변수는 크게 기본형 변수와 참조형 변수로 나눌 수 있다고 배웠다.
기본형 변수는 데이터를 직접 저장하는 변수로 정수, 실수, 문자, 논리 등의 데이터 타입이있다.
기본형 변수는 스택 메모리에 저장된다.

참조형 변수는 객체(인스턴스)의 주소값을 저장하는 변수로 클래스, 인터페이스, 배열 등이 있다.
참조형 변수는 모두 힙 메모리에 저장된다.
클래스 변수는 static 키워드를 사용하여 선언된 변수로서, 해당 클래스의 모든 인스턴스가 공유하는 변수이다. 클래스 변수는 클래스가 로딩될 때 생성되며 클래스 변수는 객체 생성과 무관하게 클래스 이름으로 접근할 수 있다.

인스턴스 변수는 클래스 객체에서 사용되는 변수로 객체마다 서로 다른 값을 가질 수 있다. 인스턴스 변수는 객체가 생성될 때마다 생성되며, 해당 객체의 참조변수를 통해 접근할 수 있다.






```java
class BankAccountPO {
  static int balance = 0;   //예금 잔액, 클래스 변수
  
  public static int deposit(int amount) {
    balance += amount;
    reutrn balance;
    
```



================================================================

모든 프로그램은 데이터와 기능의 모임으로 구분이된다. (=데이터와 가능이 모여서 프로그램이 된다)
 데이터: 프로그램상에서 유지하고 관리해야할 데이터
 기능(메소드): 데이터를 처리하고 조작하는 기능

A라는 데이터가 있다면 이 데이터에 종속된 기능이 있다. = 즉 A라는 데이터를 처리하기 위한 A라는 메소드가 있음
[A, A기능]
[C, C기능]
[Z, Z기능]
가급적이면 이렇게 구분되도록 작성하는 것이 좋은 프로그래밍임
위 처럼 데이터와 기능(메소드)를 묶을 수 있는 도구가 있다면 좋을 것 -> 그 도구가 클래스

클래스라는 것은 틀, 틀을 기반으로 해서 메모리 공간에 올라갈 수 있는 사본들을 만들어 내야함.
이 사본들을 인스턴스라고 함
책에 있는 예제를 예시를 들면 BankAccountPO라는 클래스 안에는 balance라는 변수가 있고
입금, 출금, 예금조회를 담당하는 3개의 메소드가 있다. 
이 세 메소드는 변수 balance를 참조 및 컨트롤 하기 위한 메소드로 묶일 수 있고 실제로도 BankAccoundPO라는
클래스로 묶인 것을 확인할 수 있다. 이렇게 묶기 위해 존재하는 것이 class

그러나 이 클래스는 한 사람의 계좌를 위한 프로그램이다.
계좌 개설을 하는 사람들이 많아지만 이 프로그램을 필요로하는 사람들도 많아질 것이다.
그러면 이 프로그램을 복사한 복사본이 필요하다는 얘기가 되는데 이 클래스가 하나의 틀이 되는 거고
필요한만큼 이 틀을 복사를 해서 메모리 공간에 올라갈 수 있게하는 것이 인스턴스, 객체가 되는 것이다.

자바에서 가짜클래스란, 클래스 내부에 static으로 선언된 멤버를 가지는 클래슬르 읨함. 내부 클래스라고도 부름
ㅋㄹ래스 내부에서만 사용 가능함. 클래스 외부에서는 직접적인 접근이 불가능함
static멤버는 클래스의 인스턴스와 관계없이 클래스 자체에 속하는 멤버이기 때문에 가짜 클래스라고 하는 표현을 사용하기도 한다.
static멤버의 경우 클래스의 인스턴스를 생성하지 않고도 해당 멤버를 사용할 수 있다.



클래스 = 틀(데이터 + 기능)
틀인 상황에서는 변수와 메소드를 사용할 수 없다.
그래서 붕어빵틀을 가지고 붕어빵을 찍어내듯이 현존하는 무엇인가를, 
즉 메모리 공간에 올라가는 무엇을 만들어내야함 이것이 인스턴스(객체, 오브젝트)이다.

인스턴스 생성 방법: new 연산자
new: 인스턴스를 만들어라하는 명령어로 이해
new BankAccount(); : BankAccount라는 틀을 이용해 인스턴스를 만들어라.
이 문장이 실행되면 사본이 만들여져서 메모리 공간에 실제로 존재하게된다
붕어빵 틀로 찍어내면 붕어빵이 나오듯이 저 코드로 만들어지는 인스턴스 안에는 balance라는 변수와 세 메소드가 존재한다


참조변수: 인스턴스가 생성될 때 반환되는 주소값을 저장하기 위한 변수
인스턴스를 생성하며 메모리공간 어딘가에 저장이 된다. 
예를 들어 철수의 계좌와 영희의 계좌가 있다고 해보자.
하지만 이렇게 그냥 메모리 공간에 올려버리게 되면 여기에 접근할 수 있는 방법이 우리에겐 없다.
그래서 인스턴스라는 것을 그냥 생성만 하면 안되고 인스턴스의 정보를 가지고 있어야한다.
인스턴스의 정보를 갖기 위해 필요한 것이 참조변수이다.

참조변수를 선언하는 방법은 기본 자료형 변수를 선언하는 것과 비슷
클래스명 참조변수;		ex) BankAccount myAcnt1;		참조변수 myAcnt1 선언

myAcnt1 = new BankAccount(); 
이렇게 인스턴스를 생성할 경우에 인스턴스 생성 후 이 인스턴스의 주소값이 myAcnt1에 반환됨
myAcnt1이라는 참조변수에는 인스턴스의 주소값이 저장이 되는 것

myAcnt1.deposit(1000);
나는 deposit메소드를 호출하려고하는데 myAcnt1이라는 참조변수가 참조하는 인스턴스의 deposit 메소드를 호출하면서 1000을 전달한다.


참조변수의 특성
기본 자료형의 변수를 초기화한 후에 값을 바꿀 수 있는 것처럼
참조변수도 자신이 참조하는 인스턴스를 바꿀 수 있다.
새 인스턴스 생성후 이 인스턴스를 참조하도록 하면 참조변수는 기존의 인스턴스와의 관계를 잃어버리고
새 인스턴스를 참조하게 된다.

BankAccount ref1 = new BankAccount();		//BankAccount 인스턴스를 참조하는 참조변수 ref1
BankAccount ref2 = ref1;		//참조변수 ref2를 선언하고 ref1이 저장하고 있는 주소값을 ref2에 저장
이처럼 하나의 인스턴스를 ref1, ref2와 같이 둘 이상의 참조변수가 동시에 참조하는 것도 가능함
이 때 ref1.deposit(1000);과 ref2.deposit(1000); 모두 같은 값을 가질 것


참조변수의 매개변수 선언
public static void main(String[] args) {
		BankAccount ref = new BankAccount();
		ref.deposit(3000);
		ref.withdraw(300);
		check(ref);
}
	
public static void check(BankAccount acc) {
		acc.checkMyBalance();
}

우선 ref는 BankCount라는 클래스를 기반으로 만든 인스턴스를 참조하는 참조변수임
check라는 메소드를 살펴보면 매개변수 자리에 BankAccount acc라고 작성한 것을 알 수 있다.
말인 즉슨 인ㅅ턴스의 주소값을 받겠다는 것이다.
자바에서는 주소 값을 주로 참조 값이라 표현하는데 check(ref)라 작성했으니
ref가 가지고 있는 참조 값을 전달하겠다는 것이다.

결국 ref와 check메소드 둘다 BankAccount 인스턴스를 가리키고 있는 것
메인메소드에서 3000을 입금하고 300을 출금했으니 2700이 check 메소드에 의해 출력될 것



참조변수에 null 대입
BankAccount ref = new BankAccount();
ref = null;		//ref가 가리키는 값을 지워버린다.
//ref라는 참조변수는 어떤 인스턴스도 참조하지 않는, 아무런 데이터도 저장되어있지 않은 상태로 초기화 된다.

null은 청소부라고 생각하면 된다.
null도 데이터의 일종이다. true가 참을 의미하는 데이터이고 false가 거짓을 의미하는 데이터인 것처럼
null은 비워버렸다, 지워버렸다라는 의미의 데이터이다.

if(ref == num)으로 null저장 유무에 대한 비교연산도 가능하다.
ref가 참조한는 인스턴스가 없다면 으로도 해석할 수 있다.

