<h1>C언어 13일차 char형 문자열</h1>



<h3>char형 배열</h3>


1. char형 배열을 이용하면 변수형태의 문자열 선언이 가능해진다.<br>
:문자열의 저장뿐만 아니라 문자열의 변경도 가능하다는 의미
```C
char str[]="Good Morning!";	//인덱스를 생략하면 자동으로 배열의 길이가 저장된다.
str[12] = '?';	//이렇게 !대신 ?로 변경도 가능하다는 것을 확인 할 수 있다.
```

2. char형 배열은 문자열을 다루기에 적합하다.<br>
:각각의 문자를 배열의 요소로 저장할 수 있으며, 배열의 마지막 요소에는 문자열의 끝을 나타내는 NULL문자(\0)를 저장한다.

3. char형 배열은 크기가 고정되어 있다.<br>
:선언할 때 크기를 지정해주어야하고 크기가 고정되어있기 때문에 미리 예측할 수 없는 크기의 문자열을 저장하기에는 부적합하다.

4. char형 배열은 초기화를 할 수 있다.<br>
:" "(큰따옴표)로 초기화할 문자열을 감싸서 선언과 동시에 초기화를 진행할 수 있다.<br>
```C
char str[6] = "Hello";
char str[10] = "";		//모든 공간을 NULL로 초기화하고 싶을 때
```



<h3>문자열을 입력받는 방법</h3>

1. NULL문자:&nbsp 문자열의 끝을 알려주는 역할을 함<br>
```C
char str[6];
printf("입력: ");
scanf("%s", str);

str[2] = NULL;

printf("출력: %s\n", str);
```
이 소스코드를 실행하면 내가 hello를 입력했음에도 불구하고 he만 출력되는 것을 확인할 수 있다. 그 이유는 str[2]에 NULL문자를 넣어 문자열을 끝맺었기 때문이다.
그래서 str[0]과 str[1]에 저장해두었던 h와 e는 출력되고 str[3]부터 저장된 문자들은 출력되지 않는 것이다.

2. C언어에서 표현하는 모든 문자열의 끝에는 NULL문자가 자동으로 삽입된다.

3. 문자열을 배열에 저장할 때는 반드시 NULL문자를 고려해줘야한다.<br>
:&nbsp 인덱스를 정할 때 내가 입력하고자하는 문자열의 크기 + 1을 해줘야한다는 뜻, 이때 영어는 1byte, 한국어는 2byte이므로 주의

4. NULL문자를 표기할때는 정수 0, 문자'\0', NULL 키워드로 표기할 수 있다.<br>
```C
char str[] = "Hello";

printf("NULL 문자의 문자형 출력: %c", str[6]);
printf("NULL 문자의 정수형 출력: %c", str[6]);
```
이 소스코드를 실행하면 문자형에는 아무것도 출력되지 않고 정수형에는 0이 출력되는 것을 확인할 수 있다. 이 결과만 보면 NULL 문자와 공백문자를 혼동할 수 있지만 NULL 문자의 아스키 코드 값은 0이고 공백문자는 32로 서로 다르다.
```C
char nu = '\0';	//NULL 문자
char sp = ' ';	//공백문자

printf("%d %d", nu, sp);	//0과 32가 출력되는 것을 확인할 수 있다.
```


5. scanf()함수를 통해 문자열을 입력받을 때는 배열 이름 앞에 &나 배열뒤에 인덱스를 작성하지 않는다.<br>
:&nbsp char형 배열 선언 시 배열의 첫 번재 요소의 주소와 동일함. 배열의 이름을 사용하면 scanf함수가 자동으로 배열의 첫 번째 요소의 주소를 인식함<br>
:&nbsp scanf()함수를 통해서 입력받은 문자열의 끝에도 자동으로 NULL문자 삽입, NULL문자로 scanf함수가 문자열의 끝을 자동으로 인식하므로 인덱스 작성할 필요 없음

<br><br>


예제1) NULL문자의 특성 활용해보기
```C
char str = [50];
int i = 0;

printf("문자열 입력: ");
scanf("%s", str);

printf("출력: ");
while(str[i] != '\0')
{
	printf("str[i] = %c\n", str[i]);
	i++;
}
```
문자열을 입력받고 입력받은 문자들을 출력하는 코드이다. NULL문자가 문자열 끝에 삽입된다는 특징을 이용하여 인덱스를 증가시키고 NULL문자가 아닐 때까지 반복하도록 했다.

예제2) 이름, 나이, 주소, 키, 몸무게를 입력 받고 출력하는 코드 짜기
```C
char name[10];
char address[10];
int age;
double height, weight;

printf("이름 입력: ");
scanf("%s", name);

printf("나이 입력: ");
scanf("%d", &age);

printf("주소 입력: ");
scanf("%s", address);

printf("키 입력: ");
scanf("%lf", &height);

printf("몸무게 입력: ");
scanf("%lf", &weight);


system("cls");

printf("출력\n-----------------------------------------------\n");
printf("이름: %s\n", name);
printf("나이: %d\n", age);
printf("주소: %s\n", address);
printf("키: %.1f \t몸무게:%.2f", height, weight);
```
처음 이 예제를 짤 때 한글을 1byte라 생각하고 짜서 오류가 발생했었다. 한글은 영어와 달리 2byte라 이 점을 유의해 문자열의 길이를 설정할 필요가 있고 이왕이면 문자열의 길이는 넉넉하게 설정해두는 것이 좋다.


<br><br>

<h3>문자열 관련 함수</h3>

1. 문자열 관련 함수를 사용할 때는 string.h 헤더파일을 선언해줘야 한다.
```C
#include <stdio.h>
#include <string.h>
```
위 코드 처럼 stdio.h 헤더파일을 선언해주면서 함께 선언해주면 된다.

2. strlen(문자열) 함수: 넘겨준 문자열의 길이를 반환해주는 함수
```C
char str[100];

printf("입력: ");
scanf("%s", str);

printf("문자열의 길이: %d", strlen(str));
```
사용자에게 문자열을 입력받고 그 문자열의 길이를 출력해주는 함수이다.<br>
내가 만약 hello라는 문자열을 입력하면 위 소스코드를 실행시켰을 때 문자열의 길이: 5가 연달아 출력되는데 우리는 이 결과를 통해 strlen()함수가 반환해주는 길이는 NULL문자를 제외한 길이임을 알 수 있다.

3. strcmp(문자열1, 문자열2): 넘겨준 두 개의 문자열을 비교하고 같으면 거짓, 다르면 참을 반환해주는 함수
```C
char str1[100], str2[100];

printf("입력: ");
scanf("%s", str1);

printf("입력: ");
scanf("%s", str2);

if (str1 == str2)
{
printf("두 문자열은 같습니다.\n");
}
else if (str1 != str2)
{
printf("두 문자열은 다릅니다.\n");
}
```
이렇게 두 문자열 str1과 str2를 비교하고 같으면 '두 문자열이 같습니다.'라는 문구를 다르면 '두 문자열은 다릅니다.'라는 문구를 출력해주는 형태로도 프로그래밍 할 수 있다.
좀 더 간결하게 표현하기 위해 strcmp()함수를 이용할 수 있다. strcmp()함수가 같으면 0 다르면 1 혹은 -1을 출력해주는 특징을 이용하는 것이다.
(보통 참일 때 1, 거짓일 때 0을 출력해주기에 헷갈릴 수 있음. 주의)
```C
char str1[100], str2[100];

printf("입력: ");
scanf("%s", str1);

printf("입력: ");
scanf("%s", str2);

printf("출력: %d\n", strcmp(str1, str2));
```
str1에 hello를 str2에 hallo를 입력하고 실행시켜보면 -1이 출력되는데 이는 strcmp()함수가 첫 번째 문자열과 두 번째 문자열을 구분하기 때문이다.
자세히 설명하지면 첫 번째 문자열이 두 번째 문자열보다 작으면 음수를 반환하고 첫 번재 문자열이 두 번째 문자열보다 크면 양수를 반환한다.
hello가 hallo보다 사전적으로 뒤에 위치하기 때문에 str1이 str2보다 작다고 판단하는 것이다.

4. strcpy(문자열을 저장할 공간, 복사할 문자열): 문자열을 복사해서 특정 공간에 저장해주는 함수
```C
char str1 = [100], str2 = [100];
printf("입력: ");
scanf("%s, str1);

strcpy(str2, str1);

printf("str2: %s", str2);
```
문자열의 경우 str2 = st1;와 같이 대입연산자로는 복사가 불가능하다. strcpy()함수를 통해 복사를 진행해야만 한다.

5. strcat(문자열을 붙일 공간, 붙일 문자열): 문자열을 붙일 공간 뒤에 넘겨받는 문자열을 덧붙여주는 함수
```C
char str1[100]="Abcd";
char str2[100] = "Efgh";

strcat(str1, str2);

printf("str1: %s\n", str1);
```
strcat()함수를 사용하면 처음에는 Abcd였다 str1문자열 뒤에 Efgh인 str2문자열이 붙어 AbcdEfgh가 출력되는 것을 확인할 수 있다.

